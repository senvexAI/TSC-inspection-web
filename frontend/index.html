<!-- index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë¶€ì¬ê²€ìˆ˜ ì›¹ì•±</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 20px; }
    #preview { width: 100%; max-width: 400px; margin-top: 10px; }
    iframe { width: 100%; height: 600px; border: 1px solid #ccc; margin-top: 20px; }
  </style>
</head>
<body>
  <h2>ğŸ“· ê°•ì¬ë¶€ì¬ ê²€ìˆ˜</h2>
  <input type="file" accept="image/*" capture="environment" id="cameraInput" />
  <img id="preview" />
  <iframe id="pdfViewer"></iframe>

  <script>
    const input = document.getElementById("cameraInput");
    const preview = document.getElementById("preview");
    const pdfViewer = document.getElementById("pdfViewer");

    input.addEventListener("change", async (e) => {
      const file = e.target.files[0];
      if (!file) return;

      preview.src = URL.createObjectURL(file);

      const formData = new FormData();
      formData.append("file", file);

      const res = await fetch("https://your-backend-url.onrender.com/upload/", {
        method: "POST",
        body: formData
      });
      const data = await res.json();

      if (data.status === "ok") {
        pdfViewer.src = `https://your-backend-url.onrender.com${data.pdf_url}`;
      } else {
        pdfViewer.src = "";
        alert(`PDFë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¸ì‹ëœ í…ìŠ¤íŠ¸: ${data.recognized}`);
      }
    });
  </script>
</body>
</html>
