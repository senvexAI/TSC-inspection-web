# PRD: 강재부재 제작검수 웹앱 (MVP)

**버전:** 0.1  
**작성자:** 배예원  
**최종 업데이트:** 2025-11-11

---

## 1. 개요 (Overview)
제작된 강재부재를 현장에서 검수할 때, 테블릿(또는 스마트폰)을 이용하여 부재명을 촬영하면 자동으로 대응하는 도면(PDF)을 불러오는 시스템을 개발한다.  
복잡한 로그인·관리 기능 없이, **간단한 단일 페이지 웹앱 + LLM 기반 OCR 백엔드**로 구성한다.

---

## 2. 목표 (Objectives)
- 현장 검수자가 태블릿으로 부재명을 촬영 → 자동으로 대응 도면을 표시  
- 네트워크 연결이 되는 환경에서 **즉시 조회 가능한 시스템** 구축  
- MVP로는 **10개 부재-도면 세트**만 등록

---

## 3. 시스템 구성 (Architecture)

| 구분 | 기술 스택 | 주요 기능 |
|------|------------|------------|
| 프론트엔드 | HTML + JS (Vercel 호스팅) | 카메라 촬영 버튼 / 이미지 업로드 / 결과 표시 (도면 뷰어 iframe -> MVP 제작 이후 pdf js로 업그레이드 예정) |
| 백엔드 | Python + FastAPI (Render 호스팅) | 이미지 수신 → gemini API 호출 → 매칭된 PDF 경로 반환 |
| AI API | Google Gemini 2.5 flash 모델 | 이미지 내 텍스트(부재명) 인식 및 추출 |
| 데이터 저장 | JSON 또는 간단한 로컬 디렉토리 매핑 | {부재명: PDF 경로} 형태로 관리 |

---

## 4. 주요 플로우 (User Flow)

1. 사용자(검수자)가 웹사이트 접속  
2. “📷 촬영” 버튼 클릭 → 카메라 열림  
3. 부재명 표식이 보이도록 사진 촬영  
4. FastAPI 서버로 이미지 전송  
5. 서버에서 OCR(LMM API)로 부재명 인식  
6. 인식된 부재명이 매핑 테이블(JSON)에 존재할 경우 → 해당 도면 PDF URL 반환  
7. 프론트엔드에서 iframe으로 PDF 표시

---

## 5. 데이터 구조 예시

```json
{
  "B1-01": "/pdf/B1-01.pdf",
  "B1-02": "/pdf/B1-02.pdf",
  "C2-03": "/pdf/C2-03.pdf"
}
````

---

## 6. MVP 범위 (Scope)

| 항목       | 내용                                       |
| -------- | ---------------------------------------- |
| 부재-도면 세트 | 약 10개 (예: B1-01 ~ B1-10)                 |
| OCR 정확도  | 부재명 완전 일치 기준 (Fallback: 수동 재입력 필드 제공 가능) |
| UI 디자인   | 단일 페이지, 버튼 2개 ("촬영", "다시하기")             |
| PDF 뷰어   | `<iframe>` 또는 `<object>` 내장 표시           |
| 인증/보안    | 없음 (MVP에서는 공개 접근 가능)                     |

---

## 7. 향후 개선 방향 (Next Steps)

* 로그인 및 부재 관리 기능 추가 (관리자 업로드 페이지)
* 현장별 도면 분류 기능
* 도면 검측결과 작성 (O, X 등 /  코멘트 작성)
* 작업한 내용 로그 남기기
* OCR 정확도 향상 (전처리 + fine-tuned model)
* 오프라인 캐시 기능 (PWA 형태로 확장 가능)
* 촬영된 이미지와 로그 자동 저장

---

## 8. 일정 (Timeline)

| 단계     | 작업 내용                     | 기간         |
| ------ | ------------------------- | ---------- |
| 1단계    | FastAPI 서버 초기 세팅 (Render) | 1일         |
| 2단계    | LLM OCR API 연동 및 테스트      | 1일         |
| 3단계    | 간단한 프론트엔드 페이지 (Vercel)    | 1일         |
| 4단계    | 부재-도면 매핑 및 통합 테스트         | 1일         |
| **합계** | MVP 완료                    | **약 3~4일** |

---

## 9. 담당

* **PM / Developer:** 조광원 과장
* **AI Integration:** Gemini flash 2.5
* **Deployment:** Vercel (Frontend) + Render (Backend)
